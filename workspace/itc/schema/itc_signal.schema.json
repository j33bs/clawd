{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://openclaw.local/schemas/itc_signal.v1.json",
  "title": "ITC Signal",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "schema_version",
    "source",
    "ts_utc",
    "window",
    "metrics",
    "raw_ref"
  ],
  "properties": {
    "schema_version": {
      "type": "integer",
      "const": 1
    },
    "source": {
      "type": "string",
      "minLength": 1
    },
    "ts_utc": {
      "type": "string",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z$"
    },
    "window": {
      "type": "string",
      "pattern": "^[0-9]+(m|h|d)$"
    },
    "metrics": {
      "type": "object",
      "properties": {
        "risk_on": { "type": "number" },
        "risk_off": { "type": "number" },
        "sentiment": { "type": "number" },
        "regime": { "type": "string" },
        "confidence": { "type": "number" }
      },
      "required": ["sentiment", "confidence"],
      "additionalProperties": true
    },
    "raw_ref": {
      "type": "string",
      "minLength": 1
    },
    "signature": {
      "type": "string",
      "pattern": "^sha256:[a-f0-9]{64}$"
    }
  }
}
