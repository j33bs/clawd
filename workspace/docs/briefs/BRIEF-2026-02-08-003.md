# Change Brief: Intent-Failure Detection & Reporting

## Metadata
- **ID**: BRIEF-2026-02-08-003
- **Category**: C
- **Author**: codex
- **Date**: 2026-02-08
- **Branch**: develop

---

## Summary
Add a log scanner that detects intent failures and produces a remediation report with concrete fixes.

---

## Motivation
Failures are currently logged but not surfaced with actionable guidance. A lightweight scanner improves observability without adding ML or runtime complexity.

---

## Risk Assessment

### Reversibility
- [x] Easy - Can revert with single commit
- [ ] Moderate - Requires multiple steps to revert
- [ ] Hard - May have cascading effects

### Blast Radius
New scripts only.

| File | Change Type |
|------|-------------|
| `workspace/scripts/intent_failure_scan.py` | Create |
| `workspace/scripts/intent_failure_report.sh` | Create |
| `workspace/scripts/verify_intent_failure_scan.sh` | Create |
| `workspace/scripts/verify.sh` | Modify |

### Security Impact
- [x] None - No security implications
- [ ] Low - Minor security consideration
- [ ] Medium - Security review required
- [ ] High - Affects authentication, authorization, or data protection

---

## Files Touched

| File | Action | Rationale |
|------|--------|-----------|
| `workspace/scripts/intent_failure_scan.py` | CREATE | Parse logs + propose fixes |
| `workspace/scripts/intent_failure_report.sh` | CREATE | Generate handoff report |
| `workspace/scripts/verify_intent_failure_scan.sh` | CREATE | Verification script |
| `workspace/scripts/verify.sh` | MODIFY | Include scan verification |

---

## Implementation Plan

1. Create the scan script with known failure patterns and suggested fixes.
2. Add a report wrapper to write to `workspace/handoffs/`.
3. Add verification script and integrate into verify.

---

## Rollback Plan

Revert the commit.

```bash
git revert <commit>
```

---

## Regression Scope

### Automated Validation
- [x] Must pass: `scripts/regression.sh`
- [x] Must pass: `scripts/verify.sh`

### Manual Checks
- [ ] Run `bash workspace/scripts/intent_failure_report.sh` and inspect output

---

## Admission Checklist

- [ ] Brief complete with all sections filled
- [ ] Branch created with correct prefix
- [ ] Implementation follows existing patterns
- [ ] Regression validation passed
- [ ] No secrets in diff
- [ ] Category/branch aligned
- [ ] Governance log entry prepared (for Category A/B)
- [ ] Rollback plan tested (for Category A/B)

---

## Notes

Patterns are heuristic; extend with new errors as they appear.

---

*Template version: 1.0*
*See CONTRIBUTING.md for category definitions and admission process.*
